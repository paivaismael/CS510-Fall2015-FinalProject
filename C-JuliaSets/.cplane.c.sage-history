"// Includes library\n#include <stdio.h>\n#include <stdlib.h>\n#include \"cplane.h\" // The header cplane already contains the header complex. Then it is not necessary to include it again.\n\n// Initializes matrix in a sensible way\nCPLANE new_cplane(const INT xp, const INT yp){\n  CPLANE c;\n  c.rows = yp;\n  c.cols = xp;\n  c.mat = (COMPLEX *)calloc(yp * xp, sizeof(COMPLEX));\n  if (c.mat == NULL) {\n    fprintf(stderr, \"ERROR: failed to allocate new_matrix\\n\");\n  }\n  return c;\n}\n\n// Frees allocated memory after its use to avoid memory leak\nvoid delete_cplane(CPLANE c){\n  free(c.mat);\n}\n\n// Gets an specific element of c.mat by receiving the pointer to the memory block that contains a cplane\nCOMPLEX get(const CPLANE *c, const INT row, const INT col){\n  if (row < 0 || col < 0 || row >= c->rows || col >= c->cols) {\n    fprintf(stderr, \"ERROR: indexing cplane outside bounds\\n\");\n    COMPLEX a;\n    set_complex(&a,0,0);\n    return a;\n  }\n  return *(c->mat + c->cols * row + col);\n}\n\n// Sets appropriate cplanes\nvoid set(CPLANE *c, const VALUE  xmin, const VALUE xmax, const VALUE ymin, const VALUE ymax){\n  // Defines the step size for x and y directions\n  const VALUE xstep = (xmax - xmin)/(c->cols - 1);\n  const VALUE ystep = (ymax - ymin)/(c->rows - 1);\n  // Defines counters\n  INT i, j;\n  // Sets the mat part of the cplane\n  for (i=0; i<(c->rows); i++){\n    for (j=0; j<(c->cols); j++){\n      set_complex(c->mat + (c->cols * i) + j, xmin + j * xstep, ymin + i * ystep);\n    }\n  }\n}\n\n// Verifies if the inputs respect some expected relationships, reporting errors if they do not and calling function set otherwise\nCPLANE constructor(const  VALUE xmin, const VALUE xmax, const VALUE ymin, const VALUE ymax, const INT xpoints, const INT ypoints){\n  // Creates a new CPLANE and allocate appropriated memory to it\n  CPLANE c = new_cplane(xpoints,ypoints);  \n  // Verifies if the inputs xpoints and ypoints were chosen appropriately\n  if (xpoints < 2 || ypoints < 2) {\n    fprintf(stderr, \"ERROR: xpoints and ypoints should be at least equal to 2\\n\");\n  }\n  // Verifies if the inputs xmin and xmax were chosen appropriately\n  else if (xmin >= xmax){\n    fprintf(stderr, \"ERROR: xmax has to be greater than xmin\\n\");\n  }\n  // Verifies if the inputs ymin and yman were chosen appropriately\n  else if (ymin >= ymax){\n    fprintf(stderr, \"ERROR: ymax has to be greater than ymin\\n\");\n  }\n  else{\n    set(&c,xmin, xmax, ymin, ymax);\n  }\n  return c;\n}\n\n// Prints a cplane (It is a helper to test this library)\nvoid print_cplane(const CPLANE *cp){\n  INT i, j;\n  printf(\"Cplane (rows: %ld, cols: %ld) \\n\", cp->rows, cp->cols);\n  for(i=0; i<(cp->rows); i++) {\n    for(j=0; j<(cp->cols); j++) {\n      // Prints values of matrix separated by tabs with each row on a separate line\n      COMPLEX z = get(cp, i, j);\n      complex_print(&z);\n      printf(\" \");\n    }\n    puts(\"\");\n  }\n  puts(\"\");\n}\n"
{"patch":[[[[0," Include"],[-1,"s"],[0,""],[1,""],[0," library"]],2,2,17,16],[[[0,"in.\n\n// "],[-1,"I"],[1,"Constructor that i"],[0,"nitializ"]],178,178,17,34],[[[0,"\n// Free"],[-1,"s"],[0," allocat"]],488,488,17,16],[[[0,"\n\n// Get"],[-1,"s"],[0," an spec"]],595,595,17,16],[[[0,"\n\n// Set"],[-1,"s"],[0,""],[1,""],[0," appropr"]],990,990,17,16],[[[0,"/ Define"],[-1,"s"],[0,""],[1,""],[0," the ste"]],1116,1116,17,16],[[[0,"/ Define"],[-1,"s"],[0," counter"]],1267,1267,17,16],[[[0," Set"],[-1,"s"],[0," the mat"],[-1," part"],[1,"rix"],[0," of "]],1301,1301,22,19],[[[0,"\n  }\n}\n\n// Verif"],[-1,"ies"],[1,"y"],[0," if the inputs r"]],1483,1483,35,33],[[[0,"/ Create"],[-1,"s"],[0," a new C"]],1753,1753,17,16],[[[0,"s);  \n  // Verif"],[-1,"ies"],[1,"y"],[0," if the inputs x"]],1852,1852,35,33],[[[0,";\n  }\n  // Verif"],[-1,"ies"],[1,"y"],[0," if the inputs x"]],2047,2047,35,33],[[[0,"erif"],[-1,"ies"],[1,"y"],[0," if "]],2221,2221,11,9],[[[0,"\n}\n\n"],[-1,"// Prints a cplane (It is a helper to test this library)\n"],[0,"void"]],2436,2436,65,8],[[[0,"T i, j;\n"],[1,"\n"],[0,"  printf"]],2481,2481,16,17],[[[0," // "],[-1,"P"],[1,"p"],[0,"rint"],[-1,"s"],[0," val"]],2627,2627,14,13],[[[0," by tabs"],[1,"\n      //"],[0," with ea"]],2663,2663,16,25]],"time":1450043068205}